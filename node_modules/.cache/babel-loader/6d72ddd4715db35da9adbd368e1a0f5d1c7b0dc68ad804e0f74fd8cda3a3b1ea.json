{"ast":null,"code":"var STORAGE = null;\nvar VueSession = {\n  key: \"vue-session-key\",\n  flash_key: \"vue-session-flash-key\",\n  setAll: function (all) {\n    STORAGE.setItem(VueSession.key, JSON.stringify(all));\n  }\n};\nVueSession.install = function (Vue, options) {\n  if (options && \"persist\" in options && options.persist) STORAGE = window.localStorage;else STORAGE = window.sessionStorage;\n  Vue.config.globalProperties.$session = {\n    flash: {\n      parent: function () {\n        return Vue.prototype.$session;\n      },\n      get: function (key) {\n        var all = this.parent().getAll();\n        var all_flash = all[VueSession.flash_key] || {};\n        var flash_value = all_flash[key];\n        this.remove(key);\n        return flash_value;\n      },\n      set: function (key, value) {\n        var all = this.parent().getAll();\n        var all_flash = all[VueSession.flash_key] || {};\n        all_flash[key] = value;\n        all[VueSession.flash_key] = all_flash;\n        VueSession.setAll(all);\n      },\n      remove: function (key) {\n        var all = this.parent().getAll();\n        var all_flash = all[VueSession.flash_key] || {};\n        delete all_flash[key];\n        all[VueSession.flash_key] = all_flash;\n        VueSession.setAll(all);\n      }\n    },\n    getAll: function () {\n      var all = JSON.parse(STORAGE.getItem(VueSession.key));\n      return all || {};\n    },\n    set: function (key, value) {\n      if (key == \"session-id\") return false;\n      var all = this.getAll();\n      if (!(\"session-id\" in all)) {\n        this.start();\n        all = this.getAll();\n      }\n      all[key] = value;\n      VueSession.setAll(all);\n    },\n    get: function (key) {\n      var all = this.getAll();\n      return all[key];\n    },\n    start: function () {\n      var all = this.getAll();\n      all[\"session-id\"] = \"sess:\" + Date.now();\n      VueSession.setAll(all);\n    },\n    renew: function (sessionId) {\n      var all = this.getAll();\n      all[\"session-id\"] = \"sess:\" + sessionId;\n      VueSession.setAll(all);\n    },\n    exists: function () {\n      var all = this.getAll();\n      return \"session-id\" in all;\n    },\n    has: function (key) {\n      var all = this.getAll();\n      return key in all;\n    },\n    remove: function (key) {\n      var all = this.getAll();\n      delete all[key];\n      VueSession.setAll(all);\n    },\n    clear: function () {\n      var all = this.getAll();\n      VueSession.setAll({\n        \"session-id\": all[\"session-id\"]\n      });\n    },\n    destroy: function () {\n      VueSession.setAll({});\n    },\n    id: function () {\n      return this.get(\"session-id\");\n    }\n  };\n};\nmodule.exports = VueSession;","map":{"version":3,"names":["STORAGE","VueSession","key","flash_key","setAll","all","setItem","JSON","stringify","install","Vue","options","persist","window","localStorage","sessionStorage","config","globalProperties","$session","flash","parent","prototype","get","getAll","all_flash","flash_value","remove","set","value","parse","getItem","start","Date","now","renew","sessionId","exists","has","clear","destroy","id","module","exports"],"sources":["/Users/zhur/Documents/My/SCHOOL/Programming/Projects/10_1-laterem/front/src/vue-session/index.js"],"sourcesContent":["var STORAGE = null;\nvar VueSession = {\n  key: \"vue-session-key\",\n  flash_key: \"vue-session-flash-key\",\n  setAll: function (all) {\n    STORAGE.setItem(VueSession.key, JSON.stringify(all));\n  },\n};\n\nVueSession.install = function (Vue, options) {\n  if (options && \"persist\" in options && options.persist)\n    STORAGE = window.localStorage;\n  else STORAGE = window.sessionStorage;\n  Vue.config.globalProperties.$session = {\n    flash: {\n      parent: function () {\n        return Vue.prototype.$session;\n      },\n      get: function (key) {\n        var all = this.parent().getAll();\n        var all_flash = all[VueSession.flash_key] || {};\n\n        var flash_value = all_flash[key];\n\n        this.remove(key);\n\n        return flash_value;\n      },\n      set: function (key, value) {\n        var all = this.parent().getAll();\n        var all_flash = all[VueSession.flash_key] || {};\n\n        all_flash[key] = value;\n        all[VueSession.flash_key] = all_flash;\n\n        VueSession.setAll(all);\n      },\n      remove: function (key) {\n        var all = this.parent().getAll();\n        var all_flash = all[VueSession.flash_key] || {};\n\n        delete all_flash[key];\n\n        all[VueSession.flash_key] = all_flash;\n        VueSession.setAll(all);\n      },\n    },\n    getAll: function () {\n      var all = JSON.parse(STORAGE.getItem(VueSession.key));\n      return all || {};\n    },\n    set: function (key, value) {\n      if (key == \"session-id\") return false;\n      var all = this.getAll();\n\n      if (!(\"session-id\" in all)) {\n        this.start();\n        all = this.getAll();\n      }\n\n      all[key] = value;\n\n      VueSession.setAll(all);\n    },\n    get: function (key) {\n      var all = this.getAll();\n      return all[key];\n    },\n    start: function () {\n      var all = this.getAll();\n      all[\"session-id\"] = \"sess:\" + Date.now();\n\n      VueSession.setAll(all);\n    },\n    renew: function (sessionId) {\n      var all = this.getAll();\n      all[\"session-id\"] = \"sess:\" + sessionId;\n      VueSession.setAll(all);\n    },\n    exists: function () {\n      var all = this.getAll();\n      return \"session-id\" in all;\n    },\n    has: function (key) {\n      var all = this.getAll();\n      return key in all;\n    },\n    remove: function (key) {\n      var all = this.getAll();\n      delete all[key];\n\n      VueSession.setAll(all);\n    },\n    clear: function () {\n      var all = this.getAll();\n\n      VueSession.setAll({ \"session-id\": all[\"session-id\"] });\n    },\n    destroy: function () {\n      VueSession.setAll({});\n    },\n    id: function () {\n      return this.get(\"session-id\");\n    },\n  };\n};\n\nmodule.exports = VueSession;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}